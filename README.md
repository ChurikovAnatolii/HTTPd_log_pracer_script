# UNIT9_BASH

### Написать скрипт для CRON, который раз в час будет формировать письмо и отправлять на заданную почту.

___
***Описание работы [скрипта](https://github.com/ChurikovAnatolii/UNIT9_BASH/blob/main/unit_script.sh)***
___

-**После запуска в Section 1- создаем функцию (clean), которая будет удалять все временные файлы при прерывании выполнения скрипта, для этого используем trap**

-**Далее в Section 2 создаем lock- файл (/var/lock/unit_script.lock) для предотвращения повторного запуска нескольких копий. Если скрипт запущен на исполнение, то при попытке запуска еще одной копии ее исполнение будет прервано, так как пока скрипт исполняется файл существует.**

-**Далее в Section 3 скрипт выполняет проверку на наличие в текущем каталоге файла с датой предыдущего запуска, если файл еще не создан то создаст его и добавит в него дату "14/Aug/2019:00:00:00" - для того, чтобы в первый раз пройти лог целиком. Если файл уже создан то выведет на экран время из него. В конце исполднения скрипта запишеn в этот файл текущую дату для следующего запуска.**

-**Для вывода лога с момента последнего запуска скрипта в Section 4 напишем функцию, которая будет читать дату начала лога из ранее созданого файла с временем последнего запуска и с помощью awk будет создавать временный лог-файл (log.tmp), в котором будут содержаться записи между временем последнего запуска скрипта и текущим временем.**

-** **

